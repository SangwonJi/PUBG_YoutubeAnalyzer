<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UGC ë¹„êµ: Craftland vs WOW</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #10b981, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card.craftland {
            border-top: 4px solid #10b981;
        }
        
        .card.wow {
            border-top: 4px solid #f59e0b;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .card-header .icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .craftland .icon { background: rgba(16, 185, 129, 0.2); }
        .wow .icon { background: rgba(245, 158, 11, 0.2); }
        
        .card-header h2 {
            font-size: 1.5rem;
        }
        
        .card-header .game {
            color: #64748b;
            font-size: 0.9rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        
        .stat-item {
            background: rgba(15, 23, 42, 0.6);
            padding: 16px;
            border-radius: 12px;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: #64748b;
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .craftland .stat-value { color: #10b981; }
        .wow .stat-value { color: #f59e0b; }
        
        .stat-sub {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: 4px;
        }
        
        .full-width {
            grid-column: 1 / -1;
        }
        
        .chart-container {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chart-container h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .video-list {
            margin-top: 20px;
        }
        
        .video-list h3 {
            margin-bottom: 16px;
            font-size: 1.1rem;
            color: #94a3b8;
        }
        
        .video-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(15, 23, 42, 0.4);
            border-radius: 8px;
            margin-bottom: 8px;
            transition: background 0.2s;
        }
        
        .video-item:hover {
            background: rgba(15, 23, 42, 0.8);
        }
        
        .video-item a {
            color: #e2e8f0;
            text-decoration: none;
            flex: 1;
            margin-right: 16px;
        }
        
        .video-item a:hover {
            color: #60a5fa;
        }
        
        .video-stats {
            display: flex;
            gap: 16px;
            font-size: 0.85rem;
            color: #64748b;
        }
        
        .comparison-bar {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .comparison-bar h3 {
            margin-bottom: 20px;
        }
        
        .bar-item {
            margin-bottom: 20px;
        }
        
        .bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .bar-track {
            height: 24px;
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
        }
        
        .bar-craftland {
            background: linear-gradient(90deg, #10b981, #059669);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 0.75rem;
            font-weight: 600;
            color: white;
            min-width: 40px;
        }
        
        .bar-wow {
            background: linear-gradient(90deg, #d97706, #f59e0b);
            height: 100%;
            display: flex;
            align-items: center;
            padding-left: 8px;
            font-size: 0.75rem;
            font-weight: 600;
            color: white;
            min-width: 40px;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: #64748b;
            font-size: 0.9rem;
        }
        
        footer a {
            color: #60a5fa;
            text-decoration: none;
        }
        
        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
                <button id="lang-toggle" onclick="toggleLanguage()" style="padding: 8px 16px; background: rgba(99, 102, 241, 0.2); border: 1px solid #6366f1; color: #a5b4fc; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">í•œêµ­ì–´ / EN</button>
            </div>
            <h1 data-en="ğŸ® UGC Platform Comparison" data-ko="ğŸ® UGC í”Œë«í¼ ë¹„êµ">ğŸ® UGC í”Œë«í¼ ë¹„êµ</h1>
            <p class="subtitle" data-en="Craftland (Free Fire) vs World of Wonder (PUBG MOBILE)" data-ko="Craftland (í”„ë¦¬íŒŒì´ì–´) vs World of Wonder (ë°°ê·¸ëª¨ë°”ì¼)">Craftland (í”„ë¦¬íŒŒì´ì–´) vs World of Wonder (ë°°ê·¸ëª¨ë°”ì¼)</p>
        </header>
        
        <!-- Comparison Cards -->
        <div class="comparison-grid">
            <div class="card craftland">
                <div class="card-header">
                    <div class="icon">ğŸ—ï¸</div>
                    <div>
                        <h2 id="craftland-name">Craftland</h2>
                        <div class="game" data-en="Free Fire" data-ko="í”„ë¦¬íŒŒì´ì–´">í”„ë¦¬íŒŒì´ì–´</div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label" data-en="Videos" data-ko="ì˜ìƒ ìˆ˜">ì˜ìƒ ìˆ˜</div>
                        <div class="stat-value" id="craftland-videos">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Total Views" data-ko="ì´ ì¡°íšŒìˆ˜">ì´ ì¡°íšŒìˆ˜</div>
                        <div class="stat-value" id="craftland-views">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Total Likes" data-ko="ì´ ì¢‹ì•„ìš”">ì´ ì¢‹ì•„ìš”</div>
                        <div class="stat-value" id="craftland-likes">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Avg Views/Video" data-ko="í‰ê·  ì¡°íšŒìˆ˜">í‰ê·  ì¡°íšŒìˆ˜</div>
                        <div class="stat-value" id="craftland-avg">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Like Rate" data-ko="ì¢‹ì•„ìš”ìœ¨">ì¢‹ì•„ìš”ìœ¨</div>
                        <div class="stat-value" id="craftland-likerate">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Period" data-ko="ê¸°ê°„">ê¸°ê°„</div>
                        <div class="stat-value" id="craftland-period" style="font-size: 0.9rem;">-</div>
                    </div>
                </div>
            </div>
            
            <div class="card wow">
                <div class="card-header">
                    <div class="icon">ğŸŒ</div>
                    <div>
                        <h2 id="wow-name">World of Wonder</h2>
                        <div class="game" data-en="PUBG MOBILE" data-ko="ë°°ê·¸ëª¨ë°”ì¼">ë°°ê·¸ëª¨ë°”ì¼</div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label" data-en="Videos" data-ko="ì˜ìƒ ìˆ˜">ì˜ìƒ ìˆ˜</div>
                        <div class="stat-value" id="wow-videos">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Total Views" data-ko="ì´ ì¡°íšŒìˆ˜">ì´ ì¡°íšŒìˆ˜</div>
                        <div class="stat-value" id="wow-views">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Total Likes" data-ko="ì´ ì¢‹ì•„ìš”">ì´ ì¢‹ì•„ìš”</div>
                        <div class="stat-value" id="wow-likes">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Avg Views/Video" data-ko="í‰ê·  ì¡°íšŒìˆ˜">í‰ê·  ì¡°íšŒìˆ˜</div>
                        <div class="stat-value" id="wow-avg">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Like Rate" data-ko="ì¢‹ì•„ìš”ìœ¨">ì¢‹ì•„ìš”ìœ¨</div>
                        <div class="stat-value" id="wow-likerate">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label" data-en="Period" data-ko="ê¸°ê°„">ê¸°ê°„</div>
                        <div class="stat-value" id="wow-period" style="font-size: 0.9rem;">-</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Comparison Bars -->
        <div class="comparison-bar">
            <h3 data-en="ğŸ“Š Side-by-Side Comparison" data-ko="ğŸ“Š ë‚˜ë€íˆ ë¹„êµ">ğŸ“Š ë‚˜ë€íˆ ë¹„êµ</h3>
            <div class="bar-item">
                <div class="bar-label">
                    <span data-en="Total Views" data-ko="ì´ ì¡°íšŒìˆ˜">ì´ ì¡°íšŒìˆ˜</span>
                    <span id="views-ratio"></span>
                </div>
                <div class="bar-track">
                    <div class="bar-craftland" id="bar-craftland-views"></div>
                    <div class="bar-wow" id="bar-wow-views"></div>
                </div>
            </div>
            <div class="bar-item">
                <div class="bar-label">
                    <span data-en="Video Count" data-ko="ì˜ìƒ ìˆ˜">ì˜ìƒ ìˆ˜</span>
                    <span id="count-ratio"></span>
                </div>
                <div class="bar-track">
                    <div class="bar-craftland" id="bar-craftland-count"></div>
                    <div class="bar-wow" id="bar-wow-count"></div>
                </div>
            </div>
            <div class="bar-item">
                <div class="bar-label">
                    <span data-en="Engagement (Likes)" data-ko="ì°¸ì—¬ë„ (ì¢‹ì•„ìš”)">ì°¸ì—¬ë„ (ì¢‹ì•„ìš”)</span>
                    <span id="likes-ratio"></span>
                </div>
                <div class="bar-track">
                    <div class="bar-craftland" id="bar-craftland-likes"></div>
                    <div class="bar-wow" id="bar-wow-likes"></div>
                </div>
            </div>
        </div>
        
        <!-- Monthly Chart -->
        <div class="chart-container">
            <h3 data-en="ğŸ“ˆ Monthly Views Trend" data-ko="ğŸ“ˆ ì›”ë³„ ì¡°íšŒìˆ˜ ì¶”ì´">ğŸ“ˆ ì›”ë³„ ì¡°íšŒìˆ˜ ì¶”ì´</h3>
            <canvas id="monthlyChart"></canvas>
        </div>
        
        <!-- Video Lists -->
        <div class="comparison-grid">
            <div class="card craftland">
                <div class="video-list">
                    <h3 data-en="ğŸ† Top Craftland Videos" data-ko="ğŸ† Craftland ì¸ê¸° ì˜ìƒ">ğŸ† Craftland ì¸ê¸° ì˜ìƒ</h3>
                    <div id="craftland-videos-list"></div>
                </div>
            </div>
            <div class="card wow">
                <div class="video-list">
                    <h3 data-en="ğŸ† Top WOW Videos" data-ko="ğŸ† WOW ì¸ê¸° ì˜ìƒ">ğŸ† WOW ì¸ê¸° ì˜ìƒ</h3>
                    <div id="wow-videos-list"></div>
                </div>
            </div>
        </div>
        
        <footer>
            <p data-en="Data from YouTube API" data-ko="YouTube API ë°ì´í„°">YouTube API ë°ì´í„°</p>
            <p><a href="index.html" data-en="â† Back to Main Dashboard" data-ko="â† ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ">â† ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ</a></p>
        </footer>
    </div>
    
    <script>
        let currentLang = 'ko';
        
        function toggleLanguage() {
            currentLang = currentLang === 'ko' ? 'en' : 'ko';
            document.querySelectorAll('[data-en][data-ko]').forEach(el => {
                el.textContent = el.getAttribute('data-' + currentLang);
            });
            document.getElementById('lang-toggle').textContent = currentLang === 'ko' ? 'í•œêµ­ì–´ / EN' : 'EN / í•œêµ­ì–´';
        }
        
        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toLocaleString();
        }
        
        function renderVideoList(videos, containerId, limit = 10) {
            const container = document.getElementById(containerId);
            const html = videos.slice(0, limit).map(v => `
                <div class="video-item">
                    <a href="${v.url}" target="_blank">${v.title.substring(0, 60)}${v.title.length > 60 ? '...' : ''}</a>
                    <div class="video-stats">
                        <span>ğŸ‘ ${formatNumber(v.view_count)}</span>
                        <span>ğŸ‘ ${formatNumber(v.like_count)}</span>
                    </div>
                </div>
            `).join('');
            container.innerHTML = html;
        }
        
        function updateComparisonBars(craftland, wow) {
            const totalViews = craftland.stats.total_views + wow.stats.total_views;
            const totalCount = craftland.stats.video_count + wow.stats.video_count;
            const totalLikes = craftland.stats.total_likes + wow.stats.total_likes;
            
            // Views bar
            const craftlandViewsPct = (craftland.stats.total_views / totalViews * 100).toFixed(1);
            const wowViewsPct = (wow.stats.total_views / totalViews * 100).toFixed(1);
            document.getElementById('bar-craftland-views').style.width = craftlandViewsPct + '%';
            document.getElementById('bar-craftland-views').textContent = craftlandViewsPct + '%';
            document.getElementById('bar-wow-views').style.width = wowViewsPct + '%';
            document.getElementById('bar-wow-views').textContent = wowViewsPct + '%';
            document.getElementById('views-ratio').textContent = `${formatNumber(craftland.stats.total_views)} vs ${formatNumber(wow.stats.total_views)}`;
            
            // Count bar
            const craftlandCountPct = (craftland.stats.video_count / totalCount * 100).toFixed(1);
            const wowCountPct = (wow.stats.video_count / totalCount * 100).toFixed(1);
            document.getElementById('bar-craftland-count').style.width = craftlandCountPct + '%';
            document.getElementById('bar-craftland-count').textContent = craftlandCountPct + '%';
            document.getElementById('bar-wow-count').style.width = wowCountPct + '%';
            document.getElementById('bar-wow-count').textContent = wowCountPct + '%';
            document.getElementById('count-ratio').textContent = `${craftland.stats.video_count} vs ${wow.stats.video_count}`;
            
            // Likes bar
            const craftlandLikesPct = (craftland.stats.total_likes / totalLikes * 100).toFixed(1);
            const wowLikesPct = (wow.stats.total_likes / totalLikes * 100).toFixed(1);
            document.getElementById('bar-craftland-likes').style.width = craftlandLikesPct + '%';
            document.getElementById('bar-craftland-likes').textContent = craftlandLikesPct + '%';
            document.getElementById('bar-wow-likes').style.width = wowLikesPct + '%';
            document.getElementById('bar-wow-likes').textContent = wowLikesPct + '%';
            document.getElementById('likes-ratio').textContent = `${formatNumber(craftland.stats.total_likes)} vs ${formatNumber(wow.stats.total_likes)}`;
        }
        
        function renderMonthlyChart(craftland, wow) {
            // Merge all months
            const allMonths = new Set([
                ...craftland.monthly.map(m => m.month),
                ...wow.monthly.map(m => m.month)
            ]);
            const sortedMonths = Array.from(allMonths).sort();
            
            const craftlandData = sortedMonths.map(month => {
                const found = craftland.monthly.find(m => m.month === month);
                return found ? found.views : 0;
            });
            
            const wowData = sortedMonths.map(month => {
                const found = wow.monthly.find(m => m.month === month);
                return found ? found.views : 0;
            });
            
            new Chart(document.getElementById('monthlyChart'), {
                type: 'line',
                data: {
                    labels: sortedMonths,
                    datasets: [
                        {
                            label: 'Craftland (Free Fire)',
                            data: craftlandData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'WOW (PUBG MOBILE)',
                            data: wowData,
                            borderColor: '#f59e0b',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            fill: true,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: { color: '#94a3b8' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#64748b' },
                            grid: { color: 'rgba(255,255,255,0.05)' }
                        },
                        y: {
                            ticks: { 
                                color: '#64748b',
                                callback: value => formatNumber(value)
                            },
                            grid: { color: 'rgba(255,255,255,0.05)' }
                        }
                    }
                }
            });
        }
        
        // Load data
        fetch('ugc_comparison.json')
            .then(res => res.json())
            .then(data => {
                const { craftland, wow } = data;
                
                // Craftland stats
                document.getElementById('craftland-videos').textContent = craftland.stats.video_count;
                document.getElementById('craftland-views').textContent = formatNumber(craftland.stats.total_views);
                document.getElementById('craftland-likes').textContent = formatNumber(craftland.stats.total_likes);
                document.getElementById('craftland-avg').textContent = formatNumber(craftland.stats.avg_views);
                document.getElementById('craftland-likerate').textContent = craftland.stats.like_rate + '%';
                document.getElementById('craftland-period').textContent = `${craftland.stats.first_video} ~ ${craftland.stats.last_video}`;
                
                // WOW stats
                document.getElementById('wow-videos').textContent = wow.stats.video_count;
                document.getElementById('wow-views').textContent = formatNumber(wow.stats.total_views);
                document.getElementById('wow-likes').textContent = formatNumber(wow.stats.total_likes);
                document.getElementById('wow-avg').textContent = formatNumber(wow.stats.avg_views);
                document.getElementById('wow-likerate').textContent = wow.stats.like_rate + '%';
                document.getElementById('wow-period').textContent = `${wow.stats.first_video} ~ ${wow.stats.last_video}`;
                
                // Comparison bars
                updateComparisonBars(craftland, wow);
                
                // Monthly chart
                renderMonthlyChart(craftland, wow);
                
                // Video lists
                renderVideoList(craftland.videos, 'craftland-videos-list');
                renderVideoList(wow.videos, 'wow-videos-list');
            })
            .catch(err => {
                console.error('Failed to load data:', err);
            });
    </script>
</body>
</html>
